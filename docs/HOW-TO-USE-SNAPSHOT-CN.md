# 如何与Claude使用PROJECT-SNAPSHOT.md

## 🎯 用途

**PROJECT-SNAPSHOT.md（或中文版PROJECT-SNAPSHOT-CN.md）**是一份**压缩知识文档**，旨在让Claude（或任何AI助手）**无需读取源文件即可理解整个项目**。

---

## ✅ 解决的问题

### 问题1：GitHub访问不稳定
- ❌ Claude无法可靠访问GitHub仓库
- ❌ 频繁超时/访问错误
- ✅ **解决方案**：上传PROJECT-SNAPSHOT.md

### 问题2：项目知识库空间限制
- ❌ 上传整个代码库填满知识库（25MB限制）
- ❌ 无法容纳大型项目
- ✅ **解决方案**：单个1,200行文档（约50KB）包含一切

### 问题3：Claude需要上下文才能生成代码
- ❌ 没有代码库，Claude生成不一致的代码
- ❌ 不匹配你的模式/风格
- ✅ **解决方案**：快照包含所有模式、类型、约定

---

## 📖 如何使用

### 方法1：直接粘贴（推荐用于快速任务）

**何时使用：**一次性问题，快速代码生成

**步骤：**
1. 复制`PROJECT-SNAPSHOT-CN.md`的全部内容
2. 粘贴到Claude对话
3. 添加你的提示：
   ```
   基于上述项目快照，请[你的任务]
   ```

**示例：**
```
[粘贴PROJECT-SNAPSHOT-CN.md]

基于上述项目快照，创建一个新的课程列表页面。
遵循项目的路由模式和设计系统。
```

---

### 方法2：Claude项目知识库（推荐用于持续工作）

**何时使用：**在多个会话中处理项目

**步骤：**
1. 打开你的Claude项目（https://claude.ai/projects）
2. 点击"添加项目知识"
3. 上传`PROJECT-SNAPSHOT-CN.md`（或英文版）
4. （可选）也上传相关的特定文档：
   - 路由问题：`01-Expo-Router-Explained.md`
   - 状态问题：`05-Zustand-State-Management.md`
   - 设计问题：`06-Frontend-Design-Philosophy.md`

**空间使用：**
- PROJECT-SNAPSHOT.md：约50KB
- 全部9份文档：约500KB
- **仍剩余约24.5MB**用于其他内容！

**优势：**
- Claude跨会话记忆
- 无需重复粘贴
- 可以引用快照并提问

---

### 方法3：混合方法（最适合复杂任务）

**何时使用：**复杂功能开发

**步骤：**
1. 上传PROJECT-SNAPSHOT-CN.md到项目知识库
2. 请求代码生成时，也粘贴相关代码片段
3. 引用快照：
   ```
   使用PROJECT-SNAPSHOT-CN.md中的项目结构，以及此现有代码作为参考：

   [粘贴相关代码片段]

   请创建[功能]
   ```

**示例：**
```
使用PROJECT-SNAPSHOT-CN.md中的项目结构，以及此现有
FloatingBubbles组件作为参考：

[粘贴src/components/common/FloatingBubbles.tsx]

创建一个类似的组件叫"AchievementBadges"，以水平滚动列表
显示已解锁的成就。
```

---

## 🎯 Claude可以回答什么问题？

### 有了PROJECT-SNAPSHOT，Claude可以：

✅ **生成新页面**匹配你的路由模式
```
在app/course/[id].tsx创建课程详情页面
```

✅ **生成新组件**匹配你的设计系统
```
使用项目色板创建一个ProgressBar组件
```

✅ **添加新Zustand store**遵循你的模式
```
创建courseStore来管理课程数据
```

✅ **一致地扩展现有功能**
```
在登录页面添加"忘记密码"链接
```

✅ **无需看代码即可调试问题**
```
我的认证守卫不工作。根据快照，可能是什么问题？
```

✅ **遵循你的约定重构代码**
```
重构userStore使用正确的TypeScript类型
```

✅ **回答架构问题**
```
这应该放在组件还是页面？项目的模式是什么？
```

---

## 📝 提示词最佳实践

### ✅ 好的提示词

**具体+引用快照：**
```
基于PROJECT-SNAPSHOT-CN.md，在app/(tabs)/中为"成就"创建新标签，
显示用户徽章。遵循与profile.tsx相同的模式。
```

**带上下文：**
```
我在添加搜索功能。根据快照，最好的方式是什么？
应该是新路由还是模态窗口？
```

**请求匹配风格：**
```
生成一个CourseCard组件，匹配PROJECT-SNAPSHOT-CN.md中的设计系统。
应该显示课程标题、等级和进度。
```

### ❌ 差的提示词

**过于模糊：**
```
做一个新页面
```
→ Claude不知道你的模式

**无引用：**
```
创建用户资料页
```
→ 不会匹配现有的profile.tsx

**缺少要求：**
```
添加认证
```
→ 太宽泛，快照显示认证已存在

---

## 🔄 保持快照更新

### 何时更新PROJECT-SNAPSHOT

**立即更新当：**
- ✅ 添加新路由/页面
- ✅ 创建新Zustand store
- ✅ 添加新组件类型
- ✅ 更改架构模式
- ✅ 添加主要依赖项

**每周更新：**
- ✅ 实现状态（完成百分比）
- ✅ 已知问题列表
- ✅ 下一步优先级

**无需更新：**
- ❌ 小bug修复
- ❌ 小文本更改
- ❌ 样式调整
- ❌ 添加翻译键

### 如何更新

1. **手动编辑：**更新PROJECT-SNAPSHOT-CN.md中的相关部分
2. **询问Claude：**
   ```
   这是我添加的新代码：[粘贴代码]
   请更新PROJECT-SNAPSHOT-CN.md以反映此更改。
   ```

---

## 📊 对比：给Claude提供上下文的方法

| 方法 | 优点 | 缺点 | 最适合 |
|------|------|------|--------|
| **上传完整代码库** | 完整上下文 | 用完全部25MB，慢 | 非常小的项目 |
| **GitHub链接** | 无需上传 | 访问不可靠 | 不推荐 |
| **PROJECT-SNAPSHOT** | 快速，小（50KB），可靠 | 需要手动更新 | ✅ 大多数项目 |
| **粘贴特定文件** | 最新代码 | 重复，无架构视图 | 快速问题 |
| **快照+特定文件** | 两全其美 | 稍有开销 | ✅ 复杂任务 |

---

## 💡 示例工作流

### 工作流1：添加新功能

**场景：**为课程添加"收藏"功能

**步骤：**
1. 粘贴PROJECT-SNAPSHOT-CN.md给Claude
2. 提示：
   ```
   基于项目快照，我需要添加"收藏"功能：

   1. 添加favoriteStore（Zustand）来跟踪收藏的课程
   2. 在课程卡片添加心形图标
   3. 在标签栏添加"收藏"标签

   遵循项目模式生成代码。从store开始。
   ```

3. Claude生成`src/stores/favoriteStore.ts`
4. 审查并保存
5. 提示："现在生成收藏按钮的UI组件"
6. 重复直到功能完成
7. 用新store和路由更新PROJECT-SNAPSHOT-CN.md

---

### 工作流2：调试问题

**场景：**认证守卫未正确重定向

**步骤：**
1. 上传PROJECT-SNAPSHOT-CN.md到项目知识库（一次性）
2. 开始对话：
   ```
   我有认证问题。根据PROJECT-SNAPSHOT-CN.md，认证守卫应该
   在登录时重定向到/(tabs)，但它不工作。

   这是当前代码：[粘贴app/_layout.tsx认证守卫逻辑]

   哪里错了？
   ```

3. Claude比较代码与快照模式
4. 识别差异
5. 建议修复

---

### 工作流3：新开发者入职

**场景：**新团队成员需要理解项目

**不要这样：**
- 阅读7份文档（4,000行）
- 探索40多个源文件
- 问高级开发者问题

**这样做：**
1. 给他们PROJECT-SNAPSHOT-CN.md
2. 他们阅读（15-20分钟）
3. 现在他们可以：
   - 理解架构
   - 遵循代码模式
   - 生成一致的代码
   - 向Claude提具体问题

---

## 🎓 快照vs其他文档的内容

### PROJECT-SNAPSHOT包含：
- ✅ 完整文件结构及内容摘要
- ✅ 所有类型定义
- ✅ 所有store API
- ✅ 代码模式和约定
- ✅ 设计系统标记
- ✅ 当前实现状态
- ✅ 已知问题
- ✅ 组件API
- ✅ 代码生成指南

### 其他文档包含：
- 📚 概念**解释**（Expo Router、Zustand）
- 📚 工作原理**教程**
- 📚 **示例**和对比
- 📚 带推理的**最佳实践**

**何时使用哪个：**
- **生成代码** → PROJECT-SNAPSHOT
- **学习概念** → 详细文档（01-06）
- **两者** → 上传快照+粘贴相关详细文档部分

---

## 🚀 快速参考：常用提示词

### 添加新页面
```
基于PROJECT-SNAPSHOT-CN.md，在app/(tabs)/settings.tsx创建新页面，
显示用户设置，包含：账户、偏好和关于三个部分。
遵循与profile.tsx相同的布局模式。
```

### 创建组件
```
使用PROJECT-SNAPSHOT-CN.md中的设计系统，创建LessonCard组件，
接收props: title, duration, difficulty, isCompleted。
应该匹配现有卡片的样式。
```

### 添加状态
```
遵循PROJECT-SNAPSHOT-CN.md中的Zustand模式，创建notificationStore
来跟踪通知，包含actions: add, remove, markAsRead, clearAll。
包含TypeScript类型。
```

### 扩展现有代码
```
基于PROJECT-SNAPSHOT-CN.md中的userStore，添加新的updateProfile
动作，接收displayName和email，更新currentUser。
```

### 架构问题
```
根据PROJECT-SNAPSHOT-CN.md，我应该把格式化泰文的辅助函数
放在哪里？项目的工具函数模式是什么？
```

---

## ⚠️ 限制

### 快照不能做什么：
- ❌ 显示**确切的当前代码**（可能过时）
- ❌ 包含**所有实现细节**（压缩视图）
- ❌ 检测**代码中的bug**（非实时调试）
- ❌ 替代**阅读实际源码**用于复杂更改

### 何时应该读实际文件：
- 🔍 调试特定bug（需要确切代码）
- 🔍 复杂重构（需要看所有用法）
- 🔍 性能优化（需要看完整实现）
- 🔍 理解边缘情况（快照显示正常路径）

---

## 🎯 成功指标

**有效使用快照的标志：**
- ✅ Claude生成匹配你模式的代码
- ✅ 无需每次解释项目结构
- ✅ 代码建议遵循你的命名约定
- ✅ 新功能与现有代码无缝集成
- ✅ 花更少时间在样板代码，更多在逻辑上

**可能需要更新快照的标志：**
- ⚠️ Claude生成使用错误模式的代码
- ⚠️ 建议不匹配当前架构
- ⚠️ Claude问快照中已回答的问题
- ⚠️ 距上次更新>2周且有重大更改

---

## 📋 快照维护检查清单

### 重大更改后
- [ ] 更新"文件结构"部分
- [ ] 如有更改更新"类型定义"
- [ ] 如有添加/修改更新"Store API参考"
- [ ] 更新"当前实现状态"
- [ ] 更新"已知问题"
- [ ] 更新"最后更新"日期
- [ ] 提交到git，消息："docs: 更新PROJECT-SNAPSHOT"

### 每月审查
- [ ] 检查"下一步开发优先级"是否仍准确
- [ ] 更新实现百分比
- [ ] 添加发现的任何新代码模式
- [ ] 从"已知问题"删除已修复的问题
- [ ] 如有重大更改更新依赖版本

---

## 🎉 最终提示

### 最大化效果

**1. 每次会话以上下文开始**
```
我在泰语学习应用中开发[功能]。项目结构在
PROJECT-SNAPSHOT-CN.md中（已在项目知识库中）。
我需要[具体任务]。
```

**2. 引用特定部分**
```
根据PROJECT-SNAPSHOT-CN.md中的"Store API参考"，
userStore有[动作]。我想添加[新动作]。
```

**3. 结合示例**
```
遵循PROJECT-SNAPSHOT-CN.md中FloatingBubbles组件的模式，
创建类似的[新组件]。
```

**4. 请求更新**
```
我刚添加了这个新store：[粘贴代码]。请更新
PROJECT-SNAPSHOT-CN.md，将其包含在"Store API参考"部分。
```

### 专业提示

💡 **收藏快照** - 你会经常引用它
💡 **保持同步** - 每次重大更改后更新
💡 **与团队共享** - 每个人使用相同上下文
💡 **版本化** - 在git中跟踪，审查更改
💡 **扩展它** - 根据需要添加项目特定部分

---

## 📞 何时使用什么

| 我想... | 使用这个 |
|---------|----------|
| 生成新代码 | PROJECT-SNAPSHOT-CN.md |
| 理解Expo Router | 01-Expo-Router-Explained.md |
| 理解Zustand | 05-Zustand-State-Management.md |
| 匹配设计风格 | PROJECT-SNAPSHOT-CN.md + 06-Design-Philosophy.md |
| 调试路由 | PROJECT-SNAPSHOT-CN.md + 粘贴相关代码 |
| 学习最佳实践 | 详细文档（01-06）|
| 获取项目概览 | 00-Project-Knowledge-Base.md |
| 快速代码生成 | 仅PROJECT-SNAPSHOT-CN.md |

---

**快照是你项目的DNA** - 它让Claude理解和扩展你的代码库，就像读过每个文件一样。保持更新，你将拥有一个了解你模式的强大AI编程伙伴！🚀
