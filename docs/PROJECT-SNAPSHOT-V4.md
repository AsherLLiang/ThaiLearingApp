# ThaiLearningApp Project Snapshot V4

## Executive Summary

ThaiLearningApp is a React Native + Expo mobile application for learning Thai, utilizing a modern tech stack and cloud-native architecture.

| å±æ€§ | å€¼ |
|------|-----|
| **å½“å‰ç‰ˆæœ¬** | 1.0.3 |
| **æ—¥æœŸ** | 2025-11-28 |
| **çŠ¶æ€** | MVP Development (çº¦ 55% å®Œæˆ) |
| **æœ¬å‘¨ä¸»é¢˜** | è¯æ±‡å­¦ä¹ æ¨¡å—åç«¯å®ç° |

---

## Key Changes in V4 (vs V3)

### ğŸ†• æ–°å¢åŠŸèƒ½
- **è¯æ±‡å­¦ä¹ äº‘å‡½æ•°** (`vocabulary`): å®Œæ•´çš„è¯æ±‡å­¦ä¹ åç«¯ï¼Œæ”¯æŒSM-2é—´éš”é‡å¤ç®—æ³•
- **ä¼˜åŒ–ç‰ˆSM-2ç®—æ³•**: åŸºäºè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿ï¼Œæ—©æœŸé—´éš” `1â†’2â†’4â†’7â†’14` å¤©
- **æ¨¡å—åŒ–æ¶æ„**: äº‘å‡½æ•°æ‹†åˆ†ä¸º `handlers/` + `utils/` ç»“æ„

### ğŸ“¦ äº‘å‡½æ•°æ¨¡å—
| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `user-login` | ç”¨æˆ·ç™»å½• | âœ… å·²å®Œæˆ |
| `user-register` | ç”¨æˆ·æ³¨å†Œ | âœ… å·²å®Œæˆ |
| `user-reset-password` | å¯†ç é‡ç½® | âœ… å·²å®Œæˆ |
| `user-update-profile` | æ›´æ–°èµ„æ–™ | âœ… å·²å®Œæˆ |
| **`vocabulary`** | **è¯æ±‡å­¦ä¹ ** | **âœ… æ–°å¢** |

### ğŸ”§ æ¶æ„æ”¹è¿›
- äº‘å‡½æ•°é‡‡ç”¨å•å‡½æ•°å¤šActionæ¨¡å¼ï¼Œå‡å°‘å†·å¯åŠ¨
- ç»Ÿä¸€å“åº”æ ¼å¼ `ApiResponse<T>`
- ä¸å‰ç«¯é…ç½®ç³»ç»Ÿ (`src/config/`) å¯¹é½

---

## Project Architecture

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ThaiLearningApp                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Frontend (React Native)                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Auth   â”‚  â”‚ Course  â”‚  â”‚Vocabularyâ”‚  â”‚  Profile    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Screens â”‚  â”‚ Screens â”‚  â”‚ Screens  â”‚  â”‚  Screens    â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚       â”‚            â”‚            â”‚              â”‚          â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚                          â”‚                                 â”‚   â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                          â”‚   â”‚
â”‚  â”‚                    â”‚  Stores   â”‚  Zustand                 â”‚   â”‚
â”‚  â”‚                    â”‚ (State)   â”‚                          â”‚   â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â”‚   â”‚
â”‚  â”‚                          â”‚                                 â”‚   â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                          â”‚   â”‚
â”‚  â”‚                    â”‚ apiClient â”‚                          â”‚   â”‚
â”‚  â”‚                    â”‚ (HTTP)    â”‚                          â”‚   â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚  src/config/    â”‚                          â”‚
â”‚                    â”‚  â”œ constants.ts â”‚                          â”‚
â”‚                    â”‚  â”œ api.endpointsâ”‚                          â”‚
â”‚                    â”‚  â”” backend.configâ”‚                         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚ HTTPS                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Tencent CloudBase                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                  Cloud Functions                      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚user-loginâ”‚ â”‚user-     â”‚ â”‚    vocabulary      â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚          â”‚ â”‚register  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  handlers/   â”‚  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”œ getTodayWords â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚user-resetâ”‚ â”‚user-     â”‚ â”‚  â”‚  â”œ updateMastery â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚-password â”‚ â”‚update-   â”‚ â”‚  â”‚  â”” ...7 actions â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚profile   â”‚ â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  utils/      â”‚  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”œ sm2.js    â”‚  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â”‚  â”” ...       â”‚  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                    NoSQL Database                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ users  â”‚ â”‚   vocabulary    â”‚ â”‚ user_vocabulary â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚        â”‚ â”‚   (æ•™æå†…å®¹)     â”‚ â”‚   _progress     â”‚  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Directory Structure (v1.0.3)

```
ThaiLearningApp/
â”œâ”€â”€ app/                          # Expo Router é¡µé¢
â”‚   â”œâ”€â”€ (auth)/                   # è®¤è¯é¡µé¢ç»„
â”‚   â”‚   â”œâ”€â”€ login.tsx
â”‚   â”‚   â”œâ”€â”€ register.tsx
â”‚   â”‚   â””â”€â”€ reset-password.tsx
â”‚   â”œâ”€â”€ (tabs)/                   # ä¸»æ ‡ç­¾é¡µç»„
â”‚   â”‚   â”œâ”€â”€ home.tsx
â”‚   â”‚   â”œâ”€â”€ learn.tsx
â”‚   â”‚   â”œâ”€â”€ vocabulary.tsx        # è¯æ±‡å­¦ä¹ é¡µ
â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â”œâ”€â”€ _layout.tsx
â”‚   â””â”€â”€ index.tsx
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/               # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                   # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â””â”€â”€ vocabulary/           # è¯æ±‡å­¦ä¹ ç»„ä»¶ (NEW)
â”‚   â”‚       â”œâ”€â”€ WordCard.tsx
â”‚   â”‚       â”œâ”€â”€ MasteryButtons.tsx
â”‚   â”‚       â””â”€â”€ ProgressRing.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                   # åº”ç”¨é…ç½® â­
â”‚   â”‚   â”œâ”€â”€ constants.ts          # ä¸šåŠ¡å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ api.endpoints.ts      # APIç«¯ç‚¹å®šä¹‰
â”‚   â”‚   â””â”€â”€ backend.config.ts     # åç«¯è¿æ¥é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/                # UIå¸¸é‡
â”‚   â”‚   â”œâ”€â”€ Colors.ts
â”‚   â”‚   â””â”€â”€ Typography.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ entities/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â”œâ”€â”€ api.types.ts      # APIç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ entities.ts       # æ ¸å¿ƒå®ä½“
â”‚   â”‚       â””â”€â”€ vocabulary.types.ts # è¯æ±‡ç±»å‹ (NEW)
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â””â”€â”€ useVocabulary.ts      # è¯æ±‡å­¦ä¹ Hook (NEW)
â”‚   â”‚
â”‚   â”œâ”€â”€ i18n/                     # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ zh.json
â”‚   â”‚   â””â”€â”€ en.json
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ VocabularyService.ts  # è¯æ±‡æœåŠ¡ (NEW)
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                   # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ userStore.ts
â”‚   â”‚   â”œâ”€â”€ learningStore.ts
â”‚   â”‚   â””â”€â”€ vocabularyStore.ts    # è¯æ±‡çŠ¶æ€ (NEW)
â”‚   â”‚
â”‚   â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ apiClient.ts
â”‚
â”œâ”€â”€ cloudbase/                    # äº‘å‡½æ•° â­
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”œâ”€â”€ user-login/
â”‚   â”‚   â”œâ”€â”€ user-register/
â”‚   â”‚   â”œâ”€â”€ user-reset-password/
â”‚   â”‚   â”œâ”€â”€ user-update-profile/
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ vocabulary/           # è¯æ±‡å­¦ä¹ äº‘å‡½æ•° (NEW) â­
â”‚   â”‚       â”œâ”€â”€ index.js          # ä¸»å…¥å£ (è·¯ç”±åˆ†å‘)
â”‚   â”‚       â”œâ”€â”€ package.json
â”‚   â”‚       â”œâ”€â”€ handlers/         # Actionå¤„ç†å™¨
â”‚   â”‚       â”‚   â”œâ”€â”€ getTodayWords.js
â”‚   â”‚       â”‚   â”œâ”€â”€ updateMastery.js
â”‚   â”‚       â”‚   â”œâ”€â”€ toggleSkipWord.js
â”‚   â”‚       â”‚   â”œâ”€â”€ getVocabularyDetail.js
â”‚   â”‚       â”‚   â”œâ”€â”€ getReviewStatistics.js
â”‚   â”‚       â”‚   â”œâ”€â”€ getVocabularyList.js
â”‚   â”‚       â”‚   â””â”€â”€ getSkippedWords.js
â”‚   â”‚       â””â”€â”€ utils/            # å·¥å…·æ¨¡å—
â”‚   â”‚           â”œâ”€â”€ constants.js  # å¸¸é‡å®šä¹‰
â”‚   â”‚           â”œâ”€â”€ database.js   # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚           â”œâ”€â”€ response.js   # å“åº”æ ¼å¼åŒ–
â”‚   â”‚           â”œâ”€â”€ validators.js # å‚æ•°éªŒè¯
â”‚   â”‚           â””â”€â”€ sm2.js        # SM-2ç®—æ³•
â”‚   â”‚
â”‚   â””â”€â”€ cloudbaserc.json
â”‚
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ audio/                    # å‘éŸ³éŸ³é¢‘
â”‚
â””â”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ 00-Project-Knowledge-Base.md
    â”œâ”€â”€ 07-Configuration-and-API-Guide.md
    â”œâ”€â”€ 08-Vocabulary-API-Documentation.md  # (NEW)
    â””â”€â”€ PROJECT-SNAPSHOT-V4.md              # (NEW)
```

---

## Core Components

### 1. Configuration System (`src/config/`)

ä¸‰å±‚é…ç½®ä½“ç³»ï¼Œä¸äº‘å‡½æ•°ä¿æŒä¸€è‡´ï¼š

| æ–‡ä»¶ | èŒè´£ | å†…å®¹ |
|------|------|------|
| `constants.ts` | ä¸šåŠ¡å¸¸é‡ | é›†åˆåã€è¶…æ—¶ã€é”™è¯¯æ¶ˆæ¯ã€è§’è‰²ã€ç­‰çº§ |
| `api.endpoints.ts` | APIç«¯ç‚¹ | å¤šåç«¯æ”¯æŒçš„ç«¯ç‚¹å®šä¹‰ |
| `backend.config.ts` | åç«¯é…ç½® | CloudBase/Javaè¿æ¥ä¿¡æ¯ |

### 2. State Management (`src/stores/`)

| Store | èŒè´£ | å…³é”®æ–¹æ³• |
|-------|------|----------|
| `userStore` | ç”¨æˆ·è®¤è¯ | login, register, logout |
| `learningStore` | å­¦ä¹ è¿›åº¦ | updateProgress, getStats |
| `vocabularyStore` | è¯æ±‡å­¦ä¹  | getTodayWords, updateMastery |

### 3. Cloud Functions (`cloudbase/functions/`)

| äº‘å‡½æ•° | æ¶æ„ | Actionæ•° |
|--------|------|----------|
| `user-*` | å•å‡½æ•°å•åŠŸèƒ½ | 1 |
| `vocabulary` | å•å‡½æ•°å¤šAction | 7 |

---

## Database Schema

### Collections Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CloudBase Database                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    users     â”‚    â”‚  vocabulary  â”‚    â”‚ user_vocab_   â”‚  â”‚
â”‚  â”‚              â”‚    â”‚  (æ•™æ)      â”‚    â”‚   progress    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ userId    PK â”‚    â”‚vocabularyId  â”‚â—„â”€â”€â”€â”‚ vocabularyId  â”‚  â”‚
â”‚  â”‚ email        â”‚    â”‚ thaiWord     â”‚    â”‚ userId     FKâ”€â”¼â”€â”€â”¤
â”‚  â”‚ displayName  â”‚    â”‚ meaning      â”‚    â”‚ mastery       â”‚  â”‚
â”‚  â”‚ passwordHash â”‚    â”‚ pronunciationâ”‚    â”‚ reviewCount   â”‚  â”‚
â”‚  â”‚ createdAt    â”‚    â”‚ audioPath    â”‚    â”‚ intervalDays  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ level        â”‚    â”‚ easinessFactorâ”‚  â”‚
â”‚         â”‚            â”‚ lessonNumber â”‚    â”‚ nextReviewDateâ”‚  â”‚
â”‚         â”‚            â”‚ cognates     â”‚    â”‚ skipped       â”‚  â”‚
â”‚         â”‚            â”‚ dialogue     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚            â”‚ exampleSent  â”‚           â”‚           â”‚
â”‚         â”‚            â”‚ usage        â”‚           â”‚           â”‚
â”‚         â”‚            â”‚ mistakes     â”‚           â”‚           â”‚
â”‚         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚           â”‚
â”‚         â”‚                   â”‚                   â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                    å¤šå¯¹å¤šå…³ç³»                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Collection Details

#### users
```typescript
{
  _id: string,
  userId: string,           // å”¯ä¸€æ ‡è¯†
  email: string,
  displayName: string,
  passwordHash: string,     // bcryptåŠ å¯†
  role: 'LEARNER' | 'ADMIN',
  preferences: {
    dailyGoal: number,
    notifications: boolean
  },
  createdAt: string,
  updatedAt: string
}
```

#### vocabulary (åªè¯»æ•™æ)
```typescript
{
  _id: string,
  vocabularyId: string,     // e.g., "BEGINNER_B_327"
  thaiWord: string,         // æ³°è¯­å•è¯
  meaning: string,          // ä¸­æ–‡é‡Šä¹‰
  pronunciation: string,    // å‘éŸ³æ ‡æ³¨
  audioPath: string,        // éŸ³é¢‘è·¯å¾„
  partOfSpeech: string,     // è¯æ€§
  level: string,            // éš¾åº¦ç­‰çº§
  lessonNumber: string,     // è¯¾ç¨‹ç¼–å·
  startingLetter: string,   // é¦–å­—æ¯
  cognates: string[],       // åŒæºè¯
  dialogue: object,         // å¯¹è¯åœºæ™¯
  exampleSentences: object, // ä¾‹å¥
  usage: object,            // ç”¨æ³•è¯´æ˜
  mistakes: object          // æ˜“é”™ç‚¹
}
```

#### user_vocabulary_progress (ç”¨æˆ·è¿›åº¦)
```typescript
{
  _id: string,
  userId: string,
  vocabularyId: string,
  mastery: 'é™Œç”Ÿ' | 'æ¨¡ç³Š' | 'è®°å¾—' | null,
  skipped: boolean,
  reviewCount: number,
  intervalDays: number,
  easinessFactor: number,   // SM-2å› å­
  lastReviewed: string | null,
  nextReviewDate: string | null,
  createdAt: string,
  updatedAt: string
}
```

---

## SM-2 Algorithm (Optimized)

### é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

**é—®é¢˜**: æ ‡å‡†SM-2çš„ `1â†’6` å¤©é—´éš”å¤ªé•¿

**è§£å†³**: åŸºäºè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿ä¼˜åŒ–

```
æ ‡å‡†SM-2:   1 â†’ 6 â†’ 15 â†’ 38 â†’ 95 å¤©
ä¼˜åŒ–ç‰ˆ:     1 â†’ 2 â†’ 4 â†’ 7 â†’ 14 å¤© (å‰5æ¬¡)
            ä¹‹åä½¿ç”¨EFè®¡ç®—æŒ‡æ•°å¢é•¿
```

### æŒæ¡ç¨‹åº¦å¤„ç†

| ç”¨æˆ·é€‰æ‹© | Quality | ç®—æ³•æ•ˆæœ |
|----------|---------|----------|
| é™Œç”Ÿ | 1-2 | é‡ç½®é—´éš”ä¸º1å¤©ï¼ŒEF-0.2ï¼Œé‡ç½®æ¬¡æ•° |
| æ¨¡ç³Š | 3 | é—´éš”Ã—0.8ï¼ˆç¼©çŸ­20%ï¼‰ï¼ŒEF-0.1 |
| è®°å¾— | 4-5 | ä½¿ç”¨é—´éš”åºåˆ—æˆ–EFè®¡ç®—ï¼ŒEF+0.1 |

---

## API Endpoints

### è®¤è¯æ¨¡å—
| Action | ç«¯ç‚¹ | æ–¹æ³• |
|--------|------|------|
| ç™»å½• | `/user-login` | POST |
| æ³¨å†Œ | `/user-register` | POST |
| é‡ç½®å¯†ç  | `/user-reset-password` | POST |
| æ›´æ–°èµ„æ–™ | `/user-update-profile` | POST |

### è¯æ±‡å­¦ä¹ æ¨¡å— (NEW)
| Action | äº‘å‡½æ•° | åŠŸèƒ½ |
|--------|--------|------|
| `getTodayWords` | vocabulary | è·å–ä»Šæ—¥å•è¯ |
| `updateMastery` | vocabulary | æ›´æ–°æŒæ¡çŠ¶æ€ |
| `toggleSkipWord` | vocabulary | åˆ’æ‰/æ¢å¤å•è¯ |
| `getVocabularyDetail` | vocabulary | è·å–è¯æ±‡è¯¦æƒ… |
| `getReviewStatistics` | vocabulary | è·å–å¤ä¹ ç»Ÿè®¡ |
| `getVocabularyList` | vocabulary | è·å–è¯æ±‡åˆ—è¡¨ |
| `getSkippedWords` | vocabulary | è·å–å·²åˆ’æ‰åˆ—è¡¨ |

---

## Development Status

### Module Completion

```
è®¤è¯ç³»ç»Ÿ        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
åŸºç¡€è®¾æ–½        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
é…ç½®ç®¡ç†        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
è¯æ±‡å­¦ä¹ (åç«¯)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100% â† NEW
è¯æ±‡å­¦ä¹ (å‰ç«¯)  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  20%
è¯¾ç¨‹æ¨¡å—        â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10%
ç”¨æˆ·èµ„æ–™        â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10%
å‘éŸ³è¯„æµ‹        â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
```

### Completed (âœ…)
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ (ç™»å½•/æ³¨å†Œ/ç™»å‡º/é‡ç½®å¯†ç )
- [x] é¡¹ç›®åŸºç¡€è®¾æ–½ (è·¯ç”±/çŠ¶æ€ç®¡ç†/APIå®¢æˆ·ç«¯)
- [x] é…ç½®ç®¡ç†ç³»ç»Ÿ (å¸¸é‡/ç«¯ç‚¹/åç«¯é…ç½®)
- [x] **è¯æ±‡å­¦ä¹ åç«¯** (7ä¸ªAPI/SM-2ç®—æ³•/æ¨¡å—åŒ–æ¶æ„)

### In Progress (ğŸ”„)
- [ ] è¯æ±‡å­¦ä¹ å‰ç«¯UI (WordCard/MasteryButtons)
- [ ] è¯¾ç¨‹å†…å®¹è·å–å’Œæ¸²æŸ“
- [ ] ç”¨æˆ·èµ„æ–™é¡µé¢

### Planned (ğŸ“‹)
- [ ] å‘éŸ³è¯„æµ‹é›†æˆ (Tencent SOP)
- [ ] æˆå°±ç³»ç»Ÿ
- [ ] å•å…ƒæµ‹è¯•

---

## Environment Setup

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# éƒ¨ç½²äº‘å‡½æ•°
cd cloudbase/functions/vocabulary
npm install
tcb fn deploy vocabulary
```

### Environment Variables

```bash
# .env
EXPO_PUBLIC_BACKEND=cloudbase
EXPO_PUBLIC_CLOUDBASE_ENV=cloud1-1gjcyrdd7ab927c6
```

---

## Version History

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¸»è¦å˜æ›´ |
|------|------|----------|
| 1.0.0 | 2025-11-25 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€æ¶æ„ |
| 1.0.1 | 2025-11-26 | è®¤è¯ç³»ç»Ÿå®Œæˆ |
| 1.0.2 | 2025-11-27 | é…ç½®ç³»ç»Ÿé‡æ„ |
| **1.0.3** | **2025-11-28** | **è¯æ±‡å­¦ä¹ åç«¯å®Œæˆ** |

---

*æ–‡æ¡£ç‰ˆæœ¬: V4*
*æœ€åæ›´æ–°: 2025-11-28*
